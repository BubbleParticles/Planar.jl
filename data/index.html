<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data Management · Planar.jl</title><meta name="title" content="Data Management · Planar.jl"/><meta property="og:title" content="Data Management · Planar.jl"/><meta property="twitter:title" content="Data Management · Planar.jl"/><meta name="description" content="Documentation for Planar.jl."/><meta property="og:description" content="Documentation for Planar.jl."/><meta property="twitter:description" content="Documentation for Planar.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../presentation/"><img src="../assets/logo.png" alt="Planar.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../presentation/">Overview</a></li><li><a class="tocitem" href="../">What is Planar?</a></li></ul></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../getting-started/">Overview</a></li><li><a class="tocitem" href="../getting-started/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../getting-started/installation/">Installation</a></li><li><a class="tocitem" href="../getting-started/first-strategy/">First Strategy</a></li></ul></li><li><span class="tocitem">User Guides</span><ul><li><a class="tocitem" href="../strategy/">Strategy Development</a></li><li class="is-active"><a class="tocitem" href>Data Management</a><ul class="internal"><li><a class="tocitem" href="#Quick-Navigation"><span>Quick Navigation</span></a></li><li><a class="tocitem" href="#Prerequisites"><span>Prerequisites</span></a></li><li><a class="tocitem" href="#Related-Topics"><span>Related Topics</span></a></li><li><a class="tocitem" href="#Storage-Architecture"><span>Storage Architecture</span></a></li><li><a class="tocitem" href="#Data-Architecture-Overview"><span>Data Architecture Overview</span></a></li><li><a class="tocitem" href="#Data-Collection-Methods"><span>Data Collection Methods</span></a></li><li><a class="tocitem" href="#Historical-Data-with-Scrapers"><span>Historical Data with Scrapers</span></a></li><li><a class="tocitem" href="#Real-Time-Data-with-Fetch"><span>Real-Time Data with Fetch</span></a></li><li><a class="tocitem" href="#Live-Data-Streaming-with-Watchers"><span>Live Data Streaming with Watchers</span></a></li><li><a class="tocitem" href="#Custom-Data-Sources"><span>Custom Data Sources</span></a></li><li><a class="tocitem" href="#Data-Indexing-and-Access-Patterns"><span>Data Indexing and Access Patterns</span></a></li><li><a class="tocitem" href="#Caching-and-Performance-Optimization"><span>Caching and Performance Optimization</span></a></li><li><a class="tocitem" href="#Data-Processing-and-Transformation"><span>Data Processing and Transformation</span></a></li><li><a class="tocitem" href="#Storage-Configuration-and-Optimization"><span>Storage Configuration and Optimization</span></a></li><li><a class="tocitem" href="#Real-Time-Data-Pipelines-and-Monitoring"><span>Real-Time Data Pipelines and Monitoring</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Execution Modes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../engine/engine/">Overview</a></li><li><a class="tocitem" href="../engine/backtesting/">Backtesting</a></li><li><a class="tocitem" href="../engine/paper/">Paper Trading</a></li><li><a class="tocitem" href="../engine/live/">Live Trading</a></li><li><a class="tocitem" href="../engine/mode-comparison/">Mode Comparison</a></li><li><a class="tocitem" href="../engine/features/">Features</a></li></ul></li><li><a class="tocitem" href="../optimization/">Optimization</a></li><li><a class="tocitem" href="../plotting/">Visualization</a></li><li><a class="tocitem" href="../metrics/">Performance Analysis</a></li></ul></li><li><span class="tocitem">Data Sources</span><ul><li><a class="tocitem" href="../exchanges/">Exchanges</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Watchers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../watchers/watchers/">Interface</a></li><li><input class="collapse-toggle" id="menuitem-4-2-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2-2"><span class="docs-label">APIs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../watchers/apis/coingecko/">CoinGecko</a></li><li><a class="tocitem" href="../watchers/apis/coinpaprika/">CoinPaprika</a></li><li><a class="tocitem" href="../watchers/apis/coinmarketcap/">CoinMarketCap</a></li></ul></li></ul></li></ul></li><li><span class="tocitem">Advanced Topics</span><ul><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">Customization &amp; Extensions</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../customizations/customizations/">Overview</a></li><li><a class="tocitem" href="../customizations/orders/">Custom Orders</a></li><li><a class="tocitem" href="../customizations/backtest/">Backtester Customization</a></li><li><a class="tocitem" href="../customizations/exchanges/">Exchange Extensions</a></li></ul></li><li><a class="tocitem" href="../types/">Type System</a></li><li><a class="tocitem" href="../devdocs/">Developer Documentation</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../documentation-index/">Documentation Index</a></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">API Documentation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../API/collections/">Collections</a></li><li><a class="tocitem" href="../API/data/">Data</a></li><li><a class="tocitem" href="../API/ccxt/">CCXT</a></li><li><a class="tocitem" href="../API/dfutils/">DataFrame Utils</a></li><li><a class="tocitem" href="../API/executors/">Executors</a></li><li><a class="tocitem" href="../API/exchanges/">Exchanges</a></li><li><a class="tocitem" href="../API/fetch/">Fetch</a></li><li><a class="tocitem" href="../API/engine/">Engine</a></li><li><a class="tocitem" href="../API/instances/">Instances</a></li><li><a class="tocitem" href="../API/instruments/">Instruments</a></li><li><a class="tocitem" href="../API/misc/">Miscellaneous</a></li><li><a class="tocitem" href="../API/optimization/">Optimization</a></li><li><a class="tocitem" href="../API/pbar/">Progress Bars</a></li><li><a class="tocitem" href="../API/plotting/">Plotting</a></li><li><a class="tocitem" href="../API/prices/">Prices</a></li><li><a class="tocitem" href="../API/processing/">Processing</a></li><li><a class="tocitem" href="../API/python/">Python Integration</a></li><li><a class="tocitem" href="../API/metrics/">Metrics</a></li><li><a class="tocitem" href="../API/strategies/">Strategies</a></li><li><a class="tocitem" href="../API/strategytools/">Strategy Tools</a></li><li><a class="tocitem" href="../API/strategystats/">Strategy Stats</a></li></ul></li><li><a class="tocitem" href="../config/">Configuration</a></li><li><a class="tocitem" href="../disambiguation/">Glossary</a></li></ul></li><li><span class="tocitem">Support</span><ul><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../contacts/">Community</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guides</a></li><li class="is-active"><a href>Data Management</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Data Management</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/BubbleParticles/Planar.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/BubbleParticles/Planar.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Data-Management"><a class="docs-heading-anchor" href="#Data-Management">Data Management</a><a id="Data-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Management" title="Permalink"></a></h1><p>The Data module provides comprehensive storage and management of <a href="../guides/data-management/#ohlcv-data">OHLCV</a> (Open, High, Low, Close, Volume) data and other time-series <a href="../guides/data-management/">market data</a>.</p><h2 id="Quick-Navigation"><a class="docs-heading-anchor" href="#Quick-Navigation">Quick Navigation</a><a id="Quick-Navigation-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Navigation" title="Permalink"></a></h2><ul><li><strong><a href="#Storage-Architecture">Storage Architecture</a></strong> - Understanding Zarr and LMDB backends</li><li><strong><a href="#Historical-Data-with-Scrapers">Historical Data</a></strong> - Using Scrapers for bulk data collection</li><li><strong><a href="#Real-Time-Data-with-Fetch">Real-Time Data</a></strong> - Fetching live data from exchanges</li><li><strong><a href="#Live-Data-Streaming-with-Watchers">Live Streaming</a></strong> - Continuous data monitoring</li></ul><h2 id="Prerequisites"><a class="docs-heading-anchor" href="#Prerequisites">Prerequisites</a><a id="Prerequisites-1"></a><a class="docs-heading-anchor-permalink" href="#Prerequisites" title="Permalink"></a></h2><ul><li>Basic understanding of <a href="../getting-started/">OHLCV data concepts</a></li><li>Familiarity with <a href="../exchanges/">Exchange setup</a></li></ul><h2 id="Related-Topics"><a class="docs-heading-anchor" href="#Related-Topics">Related Topics</a><a id="Related-Topics-1"></a><a class="docs-heading-anchor-permalink" href="#Related-Topics" title="Permalink"></a></h2><ul><li><strong><a href="../guides/strategy-development/">Strategy Development</a></strong> - Using data in trading strategies</li><li><strong><a href="../watchers/watchers/">Watchers</a></strong> - Real-time data monitoring</li><li><strong><a href="../API/processing/">Processing</a></strong> - Data transformation and analysis</li></ul><h2 id="Storage-Architecture"><a class="docs-heading-anchor" href="#Storage-Architecture">Storage Architecture</a><a id="Storage-Architecture-1"></a><a class="docs-heading-anchor-permalink" href="#Storage-Architecture" title="Permalink"></a></h2><h3 id="Zarr-Backend"><a class="docs-heading-anchor" href="#Zarr-Backend">Zarr Backend</a><a id="Zarr-Backend-1"></a><a class="docs-heading-anchor-permalink" href="#Zarr-Backend" title="Permalink"></a></h3><p>Planar uses <strong>Zarr</strong> as its primary storage backend, which offers several advantages:</p><ul><li><strong>Columnar Storage</strong>: Optimized for array-based data, similar to Feather or Parquet</li><li><strong>Flexible Encoding</strong>: Supports different compression and encoding schemes</li><li><strong>Storage Agnostic</strong>: Can be backed by various storage layers, including network-based systems</li><li><strong>Chunked Access</strong>: Efficient for time-series queries despite chunk-based reading</li></ul><p>The framework wraps a Zarr subtype of <code>AbstractStore</code> in a <a href="../API/data/#Data.ZarrInstance"><code>Planar.Data.ZarrInstance</code></a>. The global <code>ZarrInstance</code> is accessible at <code>Data.zi[]</code>, with LMDB as the default underlying store.</p><h3 id="Data-Organization"><a class="docs-heading-anchor" href="#Data-Organization">Data Organization</a><a id="Data-Organization-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Organization" title="Permalink"></a></h3><p><a href="../guides/data-management/#ohlcv-data">OHLCV data</a> is organized hierarchically using <a href="../API/data/#Data.key_path-Tuple{Any, Any, Any}"><code>Planar.Data.key_path</code></a>:</p><h2 id="Data-Architecture-Overview"><a class="docs-heading-anchor" href="#Data-Architecture-Overview">Data Architecture Overview</a><a id="Data-Architecture-Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Architecture-Overview" title="Permalink"></a></h2><p>The Data module provides a comprehensive <a href="../guides/data-management/">data management</a> system with the following key components:</p><ul><li><strong>Storage Backend</strong>: Zarr arrays with LMDB as the default store</li><li><strong>Data Organization</strong>: Hierarchical structure by exchange/source, pair, and timeframe</li><li><strong>Data Types</strong>: <a href="../guides/data-management/#ohlcv-data">OHLCV data</a>, generic time-series data, and cached metadata</li><li><strong>Access Patterns</strong>: Progressive loading for large datasets, contiguous time-series validation</li><li><strong>Performance</strong>: Chunked storage, compression, and optimized indexing</li></ul><h3 id="Storage-Hierarchy"><a class="docs-heading-anchor" href="#Storage-Hierarchy">Storage Hierarchy</a><a id="Storage-Hierarchy-1"></a><a class="docs-heading-anchor-permalink" href="#Storage-Hierarchy" title="Permalink"></a></h3><p>Data is organized in a hierarchical structure:</p><pre><code class="nohighlight hljs">ZarrInstance/
├── exchange_name/
│   ├── pair_name/
│   │   ├── [timeframe](guides/data-management.md#timeframes)/
│   │   │   ├── timestamp
│   │   │   ├── open
│   │   │   ├── high
│   │   │   ├── low
│   │   │   ├── close
│   │   │   └── volume
│   │   └── ...
│   └── ...
└── ...</code></pre><h2 id="Data-Collection-Methods"><a class="docs-heading-anchor" href="#Data-Collection-Methods">Data Collection Methods</a><a id="Data-Collection-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Collection-Methods" title="Permalink"></a></h2><p>Planar provides multiple methods for collecting market data, each optimized for different use cases:</p><h2 id="Historical-Data-with-Scrapers"><a class="docs-heading-anchor" href="#Historical-Data-with-Scrapers">Historical Data with Scrapers</a><a id="Historical-Data-with-Scrapers-1"></a><a class="docs-heading-anchor-permalink" href="#Historical-Data-with-Scrapers" title="Permalink"></a></h2><p>The Scrapers module provides access to historical data archives from major exchanges, offering the most efficient method for obtaining large amounts of historical data.</p><p><strong>Supported Exchanges</strong>: Binance and Bybit archives</p><h3 id="Basic-Scraper-Usage"><a class="docs-heading-anchor" href="#Basic-Scraper-Usage">Basic Scraper Usage</a><a id="Basic-Scraper-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Scraper-Usage" title="Permalink"></a></h3><h3 id="Advanced-Scraper-Examples"><a class="docs-heading-anchor" href="#Advanced-Scraper-Examples">Advanced Scraper Examples</a><a id="Advanced-Scraper-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Scraper-Examples" title="Permalink"></a></h3><p>Download multiple symbols and filter by quote currency using <code>bn.binancesyms()</code> and <code>scr.selectsyms()</code>.</p><h3 id="Market-Types-and-Frequencies"><a class="docs-heading-anchor" href="#Market-Types-and-Frequencies">Market Types and Frequencies</a><a id="Market-Types-and-Frequencies-1"></a><a class="docs-heading-anchor-permalink" href="#Market-Types-and-Frequencies" title="Permalink"></a></h3><p>Use different market types (<code>:spot</code>, <code>:um</code>, <code>:cm</code>), frequencies (<code>:daily</code>, <code>:monthly</code>), and data kinds (<code>:klines</code>, <code>:trades</code>, <code>:aggTrades</code>).</p><h3 id="Error-Handling-and-Data-Validation"><a class="docs-heading-anchor" href="#Error-Handling-and-Data-Validation">Error Handling and Data Validation</a><a id="Error-Handling-and-Data-Validation-1"></a><a class="docs-heading-anchor-permalink" href="#Error-Handling-and-Data-Validation" title="Permalink"></a></h3><div class="admonition is-warning" id="Download-Caching-5c3651319d387f18"><header class="admonition-header">Download Caching<a class="admonition-anchor" href="#Download-Caching-5c3651319d387f18" title="Permalink"></a></header><div class="admonition-body"><p>Downloads are cached - requesting the same pair path again will only download newer archives. If data becomes corrupted, pass <code>reset=true</code> to force a complete redownload.</p></div></div><div class="admonition is-success" id="Performance-Optimization-8fa5bc84dd67134e"><header class="admonition-header">Performance Optimization<a class="admonition-anchor" href="#Performance-Optimization-8fa5bc84dd67134e" title="Permalink"></a></header><div class="admonition-body"><ul><li><strong>Monthly Archives</strong>: Use for historical <a href="../guides/execution-modes/#simulation">backtesting</a>-mode) (faster download, larger chunks)</li><li><strong>Daily Archives</strong>: Use for recent data or frequent updates</li><li><strong>Parallel Downloads</strong>: Consider for multiple symbols, but respect <a href="../exchanges/">exchange</a> rate limits </li></ul></div></div><h2 id="Real-Time-Data-with-Fetch"><a class="docs-heading-anchor" href="#Real-Time-Data-with-Fetch">Real-Time Data with Fetch</a><a id="Real-Time-Data-with-Fetch-1"></a><a class="docs-heading-anchor-permalink" href="#Real-Time-Data-with-Fetch" title="Permalink"></a></h2><p>The Fetch module downloads data directly from exchanges using <a href="../exchanges/#ccxt-integration">CCXT</a>, making it ideal for:</p><ul><li>Getting the most recent market data</li><li>Filling gaps in historical data</li><li>Real-time data updates for <a href="../guides/execution-modes/#live-mode">live trading</a></li></ul><h3 id="Basic-Fetch-Usage"><a class="docs-heading-anchor" href="#Basic-Fetch-Usage">Basic Fetch Usage</a><a id="Basic-Fetch-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Fetch-Usage" title="Permalink"></a></h3><h3 id="Advanced-Fetch-Examples"><a class="docs-heading-anchor" href="#Advanced-Fetch-Examples">Advanced Fetch Examples</a><a id="Advanced-Fetch-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Fetch-Examples" title="Permalink"></a></h3><h3 id="Multi-Exchange-Data-Collection"><a class="docs-heading-anchor" href="#Multi-Exchange-Data-Collection">Multi-Exchange Data Collection</a><a id="Multi-Exchange-Data-Collection-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-Exchange-Data-Collection" title="Permalink"></a></h3><h3 id="Rate-Limit-Management"><a class="docs-heading-anchor" href="#Rate-Limit-Management">Rate Limit Management</a><a id="Rate-Limit-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Rate-Limit-Management" title="Permalink"></a></h3><p>Use delays between requests and validate data quality. Implement error handling for failed requests.</p><div class="admonition is-warning" id="Rate-Limit-Considerations-4f329943dbc9f883"><header class="admonition-header">Rate Limit Considerations<a class="admonition-anchor" href="#Rate-Limit-Considerations-4f329943dbc9f883" title="Permalink"></a></header><div class="admonition-body"><p>Direct exchange fetching is heavily rate-limited, especially for smaller <a href="../guides/data-management/#timeframes">timeframes</a>. Use archives for bulk historical data collection.</p></div></div><div class="admonition is-success" id="Fetch-Best-Practices-dea391b5b17fa37a"><header class="admonition-header">Fetch Best Practices<a class="admonition-anchor" href="#Fetch-Best-Practices-dea391b5b17fa37a" title="Permalink"></a></header><div class="admonition-body"><ul><li><strong>Recent Updates</strong>: Use fetch for recent data updates and gap filling</li><li><strong>Rate Limiting</strong>: Implement delays between requests to respect exchange limits</li><li><strong>Data Validation</strong>: Always validate fetched data before using in <a href="../guides/strategy-development/">strategies</a></li><li><strong>Raw Data</strong>: Use <code>fetch_candles</code> for unchecked data when you need raw exchange responses</li></ul></div></div><h2 id="Live-Data-Streaming-with-Watchers"><a class="docs-heading-anchor" href="#Live-Data-Streaming-with-Watchers">Live Data Streaming with Watchers</a><a id="Live-Data-Streaming-with-Watchers-1"></a><a class="docs-heading-anchor-permalink" href="#Live-Data-Streaming-with-Watchers" title="Permalink"></a></h2><p>The Watchers module enables real-time data tracking from exchanges and other sources, storing data locally for:</p><ul><li>Live trading operations</li><li>Real-time data analysis</li><li>Continuous market monitoring</li></ul><h3 id="OHLCV-Ticker-Watcher"><a class="docs-heading-anchor" href="#OHLCV-Ticker-Watcher">OHLCV Ticker Watcher</a><a id="OHLCV-Ticker-Watcher-1"></a><a class="docs-heading-anchor-permalink" href="#OHLCV-Ticker-Watcher" title="Permalink"></a></h3><p>The ticker watcher monitors multiple pairs simultaneously using exchange ticker endpoints:</p><p>As a convention, the <code>view</code> property of a watcher shows the processed data. In this case, the candles processed by the <code>ohlcv_ticker_watcher</code> will be stored in a dict.</p><h3 id="Single-Pair-OHLCV-Watcher"><a class="docs-heading-anchor" href="#Single-Pair-OHLCV-Watcher">Single-Pair OHLCV Watcher</a><a id="Single-Pair-OHLCV-Watcher-1"></a><a class="docs-heading-anchor-permalink" href="#Single-Pair-OHLCV-Watcher" title="Permalink"></a></h3><p>There is another OHLCV watcher based on trades, that tracks only one pair at a time with higher precision:</p><h3 id="Watcher-Configuration"><a class="docs-heading-anchor" href="#Watcher-Configuration">Watcher Configuration</a><a id="Watcher-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Watcher-Configuration" title="Permalink"></a></h3><p>Configure watchers with custom intervals using <code>timeout_interval</code>, <code>fetch_interval</code>, and <code>flush_interval</code> parameters. Use <code>wc.start!()</code> and <code>wc.stop!()</code> for lifecycle management.</p><h3 id="Orderbook-Watcher"><a class="docs-heading-anchor" href="#Orderbook-Watcher">Orderbook Watcher</a><a id="Orderbook-Watcher-1"></a><a class="docs-heading-anchor-permalink" href="#Orderbook-Watcher" title="Permalink"></a></h3><h3 id="Custom-Data-Processing"><a class="docs-heading-anchor" href="#Custom-Data-Processing">Custom Data Processing</a><a id="Custom-Data-Processing-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Data-Processing" title="Permalink"></a></h3><h3 id="Error-Handling-and-Resilience"><a class="docs-heading-anchor" href="#Error-Handling-and-Resilience">Error Handling and Resilience</a><a id="Error-Handling-and-Resilience-1"></a><a class="docs-heading-anchor-permalink" href="#Error-Handling-and-Resilience" title="Permalink"></a></h3><h3 id="Data-Persistence-and-Storage"><a class="docs-heading-anchor" href="#Data-Persistence-and-Storage">Data Persistence and Storage</a><a id="Data-Persistence-and-Storage-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Persistence-and-Storage" title="Permalink"></a></h3><p>Other implemented watchers are the orderbook watcher, and watchers that parse data feeds from 3rd party APIs.</p><div class="admonition is-success" id="Watcher-Best-Practices-6a76f995067d3376"><header class="admonition-header">Watcher Best Practices<a class="admonition-anchor" href="#Watcher-Best-Practices-6a76f995067d3376" title="Permalink"></a></header><div class="admonition-body"><ul><li>Monitor watcher health regularly with <code>wc.isrunning()</code></li><li>Implement proper error handling and reconnection logic</li><li>Save data periodically to prevent loss during interruptions</li><li>Use appropriate fetch intervals to balance data freshness with rate limits</li><li>Consider using multiple watchers for redundancy in critical applications</li></ul></div></div><h2 id="Custom-Data-Sources"><a class="docs-heading-anchor" href="#Custom-Data-Sources">Custom Data Sources</a><a id="Custom-Data-Sources-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Data-Sources" title="Permalink"></a></h2><p>Assuming you have your own pipeline to fetch candles, you can use the functions <a href="../API/data/#Data.save_ohlcv-Tuple{Data.ZarrInstance, Vararg{Any, 4}}"><code>Planar.Data.save_ohlcv</code></a> and <a href="../API/data/#Data.load_ohlcv-Tuple{Data.ZarrInstance, AbstractString, Any, Any}"><code>Planar.Data.load_ohlcv</code></a> to manage the data.</p><h3 id="Basic-Custom-Data-Integration"><a class="docs-heading-anchor" href="#Basic-Custom-Data-Integration">Basic Custom Data Integration</a><a id="Basic-Custom-Data-Integration-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Custom-Data-Integration" title="Permalink"></a></h3><p>To save the data, it is easier if you pass a standard OHLCV dataframe, otherwise you need to provide a <code>saved_col</code> argument that indicates the correct column index to use as the <code>timestamp</code> column (or use lower-level functions).</p><p>To load the data back:</p><h3 id="Advanced-Custom-Data-Examples"><a class="docs-heading-anchor" href="#Advanced-Custom-Data-Examples">Advanced Custom Data Examples</a><a id="Advanced-Custom-Data-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Custom-Data-Examples" title="Permalink"></a></h3><h3 id="Custom-Data-Validation"><a class="docs-heading-anchor" href="#Custom-Data-Validation">Custom Data Validation</a><a id="Custom-Data-Validation-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Data-Validation" title="Permalink"></a></h3><h3 id="Working-with-Large-Custom-Datasets"><a class="docs-heading-anchor" href="#Working-with-Large-Custom-Datasets">Working with Large Custom Datasets</a><a id="Working-with-Large-Custom-Datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Large-Custom-Datasets" title="Permalink"></a></h3><h3 id="Generic-Data-Storage"><a class="docs-heading-anchor" href="#Generic-Data-Storage">Generic Data Storage</a><a id="Generic-Data-Storage-1"></a><a class="docs-heading-anchor-permalink" href="#Generic-Data-Storage" title="Permalink"></a></h3><p>If you want to save other kinds of data, there are the <a href="../API/data/#Data.save_data-Tuple{Data.ZarrInstance, Any, Any}"><code>Planar.Data.save_data</code></a> and <a href="../API/data/#Data.load_data-Tuple{Data.ZarrInstance, Any}"><code>Planar.Data.load_data</code></a> functions. Unlike the ohlcv functions, these functions don&#39;t check for contiguity, so it is possible to store sparse data. The data, however, still requires a timestamp column, because data when saved can either be prepend or appended, therefore an index must still be available to maintain order.</p><h3 id="Serialized-Data-Storage"><a class="docs-heading-anchor" href="#Serialized-Data-Storage">Serialized Data Storage</a><a id="Serialized-Data-Storage-1"></a><a class="docs-heading-anchor-permalink" href="#Serialized-Data-Storage" title="Permalink"></a></h3><p>While OHLCV data requires a concrete type for storage (default <code>Float64</code>) generic data can either be saved with a shared type, or instead serialized. To serialize the data while saving pass the <code>serialize=true</code> argument to <code>save_data</code>, while to load serialized data pass <code>serialized=true</code> to <code>load_data</code>.</p><h3 id="Progressive-Data-Loading"><a class="docs-heading-anchor" href="#Progressive-Data-Loading">Progressive Data Loading</a><a id="Progressive-Data-Loading-1"></a><a class="docs-heading-anchor-permalink" href="#Progressive-Data-Loading" title="Permalink"></a></h3><p>When loading data from storage, you can directly use the <code>ZArray</code> by passing <code>raw=true</code> to <code>load_ohlcv</code> or <code>as_z=true</code> or <code>with_z=true</code> to <code>load_data</code>. By managing the array directly you can avoid materializing the entire dataset, which is required when dealing with large amounts of data.</p><p>Data is returned as a <code>DataFrame</code> with <code>open,high,low,close,volume,timestamp</code> columns. Since these save/load functions require a timestamp column, they check that the provided index is contiguous, it should not have missing timestamps, according to the subject timeframe. It is possible to disable those checks by passing <code>check=:none</code>.</p><div class="admonition is-warning" id="Data-Contiguity-62c27f256173a437"><header class="admonition-header">Data Contiguity<a class="admonition-anchor" href="#Data-Contiguity-62c27f256173a437" title="Permalink"></a></header><div class="admonition-body"><p>OHLCV save/load functions validate timestamp contiguity by default. Use <code>check=:none</code> to disable validation for irregular data.</p></div></div><div class="admonition is-success" id="Performance-Optimization-40932dccd9fbdc83"><header class="admonition-header">Performance Optimization<a class="admonition-anchor" href="#Performance-Optimization-40932dccd9fbdc83" title="Permalink"></a></header><div class="admonition-body"><ul><li>Use progressive loading (<code>raw=true</code>) for datasets larger than available memory</li><li>Process data in chunks when dealing with very large time series</li><li>Consider serialization for complex data structures that don&#39;t fit standard numeric types</li></ul></div></div><h2 id="Data-Indexing-and-Access-Patterns"><a class="docs-heading-anchor" href="#Data-Indexing-and-Access-Patterns">Data Indexing and Access Patterns</a><a id="Data-Indexing-and-Access-Patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Indexing-and-Access-Patterns" title="Permalink"></a></h2><p>The Data module implements dataframe indexing by dates such that you can conveniently access rows by:</p><h3 id="Advanced-Indexing-Examples"><a class="docs-heading-anchor" href="#Advanced-Indexing-Examples">Advanced Indexing Examples</a><a id="Advanced-Indexing-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Indexing-Examples" title="Permalink"></a></h3><h3 id="Timeframe-Management"><a class="docs-heading-anchor" href="#Timeframe-Management">Timeframe Management</a><a id="Timeframe-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Timeframe-Management" title="Permalink"></a></h3><p>With ohlcv data, we can access the timeframe of the series directly from the dataframe by calling <code>timeframe!(df)</code>. This will either return the previously set timeframe or infer it from the <code>timestamp</code> column. You can set the timeframe by calling e.g. <code>timeframe!(df, tf&quot;1m&quot;)</code> or <code>timeframe!!</code> to overwrite it.</p><h3 id="Efficient-Data-Slicing"><a class="docs-heading-anchor" href="#Efficient-Data-Slicing">Efficient Data Slicing</a><a id="Efficient-Data-Slicing-1"></a><a class="docs-heading-anchor-permalink" href="#Efficient-Data-Slicing" title="Permalink"></a></h3><h3 id="Data-Aggregation-and-Resampling"><a class="docs-heading-anchor" href="#Data-Aggregation-and-Resampling">Data Aggregation and Resampling</a><a id="Data-Aggregation-and-Resampling-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Aggregation-and-Resampling" title="Permalink"></a></h3><h2 id="Caching-and-Performance-Optimization"><a class="docs-heading-anchor" href="#Caching-and-Performance-Optimization">Caching and Performance Optimization</a><a id="Caching-and-Performance-Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Caching-and-Performance-Optimization" title="Permalink"></a></h2><p><code>Data.Cache.save_cache</code> and <code>Data.Cache.load_cache</code> can be used to store generic metadata like JSON payloads. The data is saved in the Planar data directory which is either under the <code>XDG_CACHE_DIR</code> if set or under <code>$HOME/.cache</code> by default.</p><h3 id="Basic-Caching-Usage"><a class="docs-heading-anchor" href="#Basic-Caching-Usage">Basic Caching Usage</a><a id="Basic-Caching-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Caching-Usage" title="Permalink"></a></h3><h3 id="Advanced-Caching-Examples"><a class="docs-heading-anchor" href="#Advanced-Caching-Examples">Advanced Caching Examples</a><a id="Advanced-Caching-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Caching-Examples" title="Permalink"></a></h3><h3 id="Performance-Optimization-Strategies"><a class="docs-heading-anchor" href="#Performance-Optimization-Strategies">Performance Optimization Strategies</a><a id="Performance-Optimization-Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-Optimization-Strategies" title="Permalink"></a></h3><h3 id="Cache-Management"><a class="docs-heading-anchor" href="#Cache-Management">Cache Management</a><a id="Cache-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Cache-Management" title="Permalink"></a></h3><h3 id="Storage-Configuration-Optimization"><a class="docs-heading-anchor" href="#Storage-Configuration-Optimization">Storage Configuration Optimization</a><a id="Storage-Configuration-Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Storage-Configuration-Optimization" title="Permalink"></a></h3><h2 id="Data-Processing-and-Transformation"><a class="docs-heading-anchor" href="#Data-Processing-and-Transformation">Data Processing and Transformation</a><a id="Data-Processing-and-Transformation-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Processing-and-Transformation" title="Permalink"></a></h2><p>The Data module provides comprehensive tools for processing and transforming financial data. This section covers data cleaning, validation, and transformation techniques.</p><h3 id="Data-Cleaning-and-Validation"><a class="docs-heading-anchor" href="#Data-Cleaning-and-Validation">Data Cleaning and Validation</a><a id="Data-Cleaning-and-Validation-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Cleaning-and-Validation" title="Permalink"></a></h3><h3 id="Gap-Detection-and-Filling"><a class="docs-heading-anchor" href="#Gap-Detection-and-Filling">Gap Detection and Filling</a><a id="Gap-Detection-and-Filling-1"></a><a class="docs-heading-anchor-permalink" href="#Gap-Detection-and-Filling" title="Permalink"></a></h3><h3 id="Data-Transformation-and-Feature-Engineering"><a class="docs-heading-anchor" href="#Data-Transformation-and-Feature-Engineering">Data Transformation and Feature Engineering</a><a id="Data-Transformation-and-Feature-Engineering-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Transformation-and-Feature-Engineering" title="Permalink"></a></h3><h2 id="Storage-Configuration-and-Optimization"><a class="docs-heading-anchor" href="#Storage-Configuration-and-Optimization">Storage Configuration and Optimization</a><a id="Storage-Configuration-and-Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Storage-Configuration-and-Optimization" title="Permalink"></a></h2><p>This section covers advanced storage configuration, optimization techniques, and troubleshooting for the Zarr/LMDB backend.</p><h3 id="Zarr-Storage-Configuration"><a class="docs-heading-anchor" href="#Zarr-Storage-Configuration">Zarr Storage Configuration</a><a id="Zarr-Storage-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Zarr-Storage-Configuration" title="Permalink"></a></h3><h3 id="LMDB-Configuration-and-Tuning"><a class="docs-heading-anchor" href="#LMDB-Configuration-and-Tuning">LMDB Configuration and Tuning</a><a id="LMDB-Configuration-and-Tuning-1"></a><a class="docs-heading-anchor-permalink" href="#LMDB-Configuration-and-Tuning" title="Permalink"></a></h3><h3 id="Storage-Optimization-Strategies"><a class="docs-heading-anchor" href="#Storage-Optimization-Strategies">Storage Optimization Strategies</a><a id="Storage-Optimization-Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Storage-Optimization-Strategies" title="Permalink"></a></h3><h3 id="Data-Validation-and-Integrity"><a class="docs-heading-anchor" href="#Data-Validation-and-Integrity">Data Validation and Integrity</a><a id="Data-Validation-and-Integrity-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Validation-and-Integrity" title="Permalink"></a></h3><h3 id="Troubleshooting-Storage-Issues"><a class="docs-heading-anchor" href="#Troubleshooting-Storage-Issues">Troubleshooting Storage Issues</a><a id="Troubleshooting-Storage-Issues-1"></a><a class="docs-heading-anchor-permalink" href="#Troubleshooting-Storage-Issues" title="Permalink"></a></h3><h3 id="Progressive-Data-Loading-2"><a class="docs-heading-anchor" href="#Progressive-Data-Loading-2">Progressive Data Loading</a><a class="docs-heading-anchor-permalink" href="#Progressive-Data-Loading-2" title="Permalink"></a></h3><p>When loading data from storage, you can directly use the <code>ZArray</code> by passing <code>raw=true</code> to <code>load_ohlcv</code> or <code>as_z=true</code> or <code>with_z=true</code> to <code>load_data</code>. By managing the array directly you can avoid materializing the entire dataset, which is required when dealing with large amounts of data.</p><div class="admonition is-success" id="Performance-Best-Practices-ee260550c7df77a6"><header class="admonition-header">Performance Best Practices<a class="admonition-anchor" href="#Performance-Best-Practices-ee260550c7df77a6" title="Permalink"></a></header><div class="admonition-body"><ul><li>Use progressive loading (<code>raw=true</code>) for datasets larger than available memory</li><li>Implement caching for expensive computations with appropriate TTL</li><li>Monitor cache size and clean up old entries regularly</li><li>Use chunked processing for very large datasets</li><li>Consider serialization for complex data structures that don&#39;t fit standard numeric types</li></ul></div></div><h2 id="Real-Time-Data-Pipelines-and-Monitoring"><a class="docs-heading-anchor" href="#Real-Time-Data-Pipelines-and-Monitoring">Real-Time Data Pipelines and Monitoring</a><a id="Real-Time-Data-Pipelines-and-Monitoring-1"></a><a class="docs-heading-anchor-permalink" href="#Real-Time-Data-Pipelines-and-Monitoring" title="Permalink"></a></h2><p>This section covers advanced real-time data collection, processing, and monitoring using the Watchers system.</p><h3 id="Real-Time-Data-Pipeline-Architecture"><a class="docs-heading-anchor" href="#Real-Time-Data-Pipeline-Architecture">Real-Time Data Pipeline Architecture</a><a id="Real-Time-Data-Pipeline-Architecture-1"></a><a class="docs-heading-anchor-permalink" href="#Real-Time-Data-Pipeline-Architecture" title="Permalink"></a></h3><h3 id="Advanced-Watcher-Management"><a class="docs-heading-anchor" href="#Advanced-Watcher-Management">Advanced Watcher Management</a><a id="Advanced-Watcher-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Watcher-Management" title="Permalink"></a></h3><h3 id="Real-Time-Data-Processing"><a class="docs-heading-anchor" href="#Real-Time-Data-Processing">Real-Time Data Processing</a><a id="Real-Time-Data-Processing-1"></a><a class="docs-heading-anchor-permalink" href="#Real-Time-Data-Processing" title="Permalink"></a></h3><h3 id="Monitoring-and-Alerting"><a class="docs-heading-anchor" href="#Monitoring-and-Alerting">Monitoring and Alerting</a><a id="Monitoring-and-Alerting-1"></a><a class="docs-heading-anchor-permalink" href="#Monitoring-and-Alerting" title="Permalink"></a></h3><h3 id="Data-Quality-Monitoring"><a class="docs-heading-anchor" href="#Data-Quality-Monitoring">Data Quality Monitoring</a><a id="Data-Quality-Monitoring-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Quality-Monitoring" title="Permalink"></a></h3><h3 id="Complete-Pipeline-Example"><a class="docs-heading-anchor" href="#Complete-Pipeline-Example">Complete Pipeline Example</a><a id="Complete-Pipeline-Example-1"></a><a class="docs-heading-anchor-permalink" href="#Complete-Pipeline-Example" title="Permalink"></a></h3><div class="admonition is-warning" id="Storage-Considerations-ac071d2019e227c0"><header class="admonition-header">Storage Considerations<a class="admonition-anchor" href="#Storage-Considerations-ac071d2019e227c0" title="Permalink"></a></header><div class="admonition-body"><ul><li>Always backup data before performing repair operations</li><li>Monitor disk space regularly, especially when using compression</li><li>Validate data integrity periodically to catch corruption early</li><li>Use appropriate LMDB map sizes to avoid out-of-space errors</li></ul></div></div><div class="admonition is-success" id="Real-Time-Data-Best-Practices-574a6fcc7e56eff8"><header class="admonition-header">Real-Time Data Best Practices<a class="admonition-anchor" href="#Real-Time-Data-Best-Practices-574a6fcc7e56eff8" title="Permalink"></a></header><div class="admonition-body"><ul><li>Implement comprehensive monitoring and alerting for production systems</li><li>Use multiple watchers per exchange for redundancy</li><li>Monitor data quality continuously to catch issues early</li><li>Implement automatic restart mechanisms for failed watchers</li><li>Cache processed data for quick access by trading <a href="../guides/strategy-development/">strategies</a></li><li>Set up proper logging and error handling for debugging issues</li></ul></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../strategy/">« Strategy Development</a><a class="docs-footer-nextpage" href="../engine/engine/">Overview »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Wednesday 29 October 2025 04:28">Wednesday 29 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
