<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Strategy Development Guide · Planar.jl</title><meta name="title" content="Strategy Development Guide · Planar.jl"/><meta property="og:title" content="Strategy Development Guide · Planar.jl"/><meta property="twitter:title" content="Strategy Development Guide · Planar.jl"/><meta name="description" content="Documentation for Planar.jl."/><meta property="og:description" content="Documentation for Planar.jl."/><meta property="twitter:description" content="Documentation for Planar.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../presentation/"><img src="../../assets/logo.png" alt="Planar.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../presentation/">Overview</a></li><li><a class="tocitem" href="../../">What is Planar?</a></li></ul></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../getting-started/">Overview</a></li><li><a class="tocitem" href="../../getting-started/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../../getting-started/installation/">Installation</a></li><li><a class="tocitem" href="../../getting-started/first-strategy/">First Strategy</a></li></ul></li><li><span class="tocitem">User Guides</span><ul><li><a class="tocitem" href="../../strategy/">Strategy Development</a></li><li><a class="tocitem" href="../../data/">Data Management</a></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Execution Modes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../engine/engine/">Overview</a></li><li><a class="tocitem" href="../../engine/backtesting/">Backtesting</a></li><li><a class="tocitem" href="../../engine/paper/">Paper Trading</a></li><li><a class="tocitem" href="../../engine/live/">Live Trading</a></li><li><a class="tocitem" href="../../engine/mode-comparison/">Mode Comparison</a></li><li><a class="tocitem" href="../../engine/features/">Features</a></li></ul></li><li><a class="tocitem" href="../../optimization/">Optimization</a></li><li><a class="tocitem" href="../../plotting/">Visualization</a></li><li><a class="tocitem" href="../../metrics/">Performance Analysis</a></li></ul></li><li><span class="tocitem">Data Sources</span><ul><li><a class="tocitem" href="../../exchanges/">Exchanges</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Watchers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../watchers/watchers/">Interface</a></li><li><input class="collapse-toggle" id="menuitem-4-2-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2-2"><span class="docs-label">APIs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../watchers/apis/coingecko/">CoinGecko</a></li><li><a class="tocitem" href="../../watchers/apis/coinpaprika/">CoinPaprika</a></li><li><a class="tocitem" href="../../watchers/apis/coinmarketcap/">CoinMarketCap</a></li></ul></li></ul></li></ul></li><li><span class="tocitem">Advanced Topics</span><ul><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">Customization &amp; Extensions</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../customizations/customizations/">Overview</a></li><li><a class="tocitem" href="../../customizations/orders/">Custom Orders</a></li><li><a class="tocitem" href="../../customizations/backtest/">Backtester Customization</a></li><li><a class="tocitem" href="../../customizations/exchanges/">Exchange Extensions</a></li></ul></li><li><a class="tocitem" href="../../types/">Type System</a></li><li><a class="tocitem" href="../../devdocs/">Developer Documentation</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../../documentation-index/">Documentation Index</a></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">API Documentation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../API/collections/">Collections</a></li><li><a class="tocitem" href="../../API/data/">Data</a></li><li><a class="tocitem" href="../../API/ccxt/">CCXT</a></li><li><a class="tocitem" href="../../API/dfutils/">DataFrame Utils</a></li><li><a class="tocitem" href="../../API/executors/">Executors</a></li><li><a class="tocitem" href="../../API/exchanges/">Exchanges</a></li><li><a class="tocitem" href="../../API/fetch/">Fetch</a></li><li><a class="tocitem" href="../../API/engine/">Engine</a></li><li><a class="tocitem" href="../../API/instances/">Instances</a></li><li><a class="tocitem" href="../../API/instruments/">Instruments</a></li><li><a class="tocitem" href="../../API/misc/">Miscellaneous</a></li><li><a class="tocitem" href="../../API/optimization/">Optimization</a></li><li><a class="tocitem" href="../../API/pbar/">Progress Bars</a></li><li><a class="tocitem" href="../../API/plotting/">Plotting</a></li><li><a class="tocitem" href="../../API/prices/">Prices</a></li><li><a class="tocitem" href="../../API/processing/">Processing</a></li><li><a class="tocitem" href="../../API/python/">Python Integration</a></li><li><a class="tocitem" href="../../API/metrics/">Metrics</a></li><li><a class="tocitem" href="../../API/strategies/">Strategies</a></li><li><a class="tocitem" href="../../API/strategytools/">Strategy Tools</a></li><li><a class="tocitem" href="../../API/strategystats/">Strategy Stats</a></li></ul></li><li><a class="tocitem" href="../../config/">Configuration</a></li><li><a class="tocitem" href="../../disambiguation/">Glossary</a></li></ul></li><li><span class="tocitem">Support</span><ul><li><a class="tocitem" href="../../troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../../contacts/">Community</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Strategy Development Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Strategy Development Guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/BubbleParticles/Planar.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/BubbleParticles/Planar.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Strategy-Development-Guide"><a class="docs-heading-anchor" href="#Strategy-Development-Guide">Strategy Development Guide</a><a id="Strategy-Development-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Strategy-Development-Guide" title="Permalink"></a></h1><p>This comprehensive guide covers everything you need to know about developing trading <a href>strategies</a> in Planar. From basic concepts to advanced patterns, you&#39;ll learn how to build robust, profitable trading systems using <a href="https://julialang.org/">Julia</a>&#39;s powerful <a href="#Dispatch-System">dispatch system</a>.</p><h2 id="Quick-Navigation"><a class="docs-heading-anchor" href="#Quick-Navigation">Quick Navigation</a><a id="Quick-Navigation-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Navigation" title="Permalink"></a></h2><ul><li><strong><a href="#Strategy-Fundamentals">Strategy Fundamentals</a></strong> - Core concepts and architecture</li><li><strong><a href>strategies</a></strong> - Interactive and manual setup</li><li><strong><a href="#Strategy-Interface">Strategy Interface</a></strong> - Understanding the call! dispatch system</li><li><strong><a href="#Advanced-Examples">Advanced Examples</a></strong> - Multi-<a href="../data-management/#timeframes">timeframe</a>, portfolio, and <a href="../../optimization/">optimization</a> strategies</li><li><strong><a href="#Best-Practices">Best Practices</a></strong> - Code organization and performance tips</li><li><strong><a href="../../troubleshooting/">troubleshooting</a></strong> - Common issues and solutions</li></ul><h2 id="Prerequisites"><a class="docs-heading-anchor" href="#Prerequisites">Prerequisites</a><a id="Prerequisites-1"></a><a class="docs-heading-anchor-permalink" href="#Prerequisites" title="Permalink"></a></h2><p>Before diving into strategy development, ensure you have:</p><ul><li>Completed the <a href="../../getting-started/">Getting Started Guide</a></li><li>Basic understanding of <a href="../data-management/">Data Management</a></li><li>Familiarity with <a href="../execution-modes/">Execution Modes</a></li></ul><h2 id="Related-Topics"><a class="docs-heading-anchor" href="#Related-Topics">Related Topics</a><a id="Related-Topics-1"></a><a class="docs-heading-anchor-permalink" href="#Related-Topics" title="Permalink"></a></h2><ul><li><strong><a href="../../optimization/">optimization</a></strong> - Parameter tuning and <a href="../execution-modes/#simulation">backtesting</a>-mode)</li><li><strong><a href="../../plotting/">Plotting</a></strong> - Visualizing strategy performance</li><li><strong><a href="../../customizations/customizations/">Customization</a></strong> - Extending strategy functionality</li></ul><h2 id="Strategy-Fundamentals"><a class="docs-heading-anchor" href="#Strategy-Fundamentals">Strategy Fundamentals</a><a id="Strategy-Fundamentals-1"></a><a class="docs-heading-anchor-permalink" href="#Strategy-Fundamentals" title="Permalink"></a></h2><h3 id="Architecture-Overview"><a class="docs-heading-anchor" href="#Architecture-Overview">Architecture Overview</a><a id="Architecture-Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Architecture-Overview" title="Permalink"></a></h3><p>Planar strategies are built around Julia&#39;s powerful dispatch system, enabling clean separation of concerns and easy customization. Each strategy is a Julia module that implements specific interface methods through the <code>call!</code> function dispatch pattern.</p><h4 id="Core-Components"><a class="docs-heading-anchor" href="#Core-Components">Core Components</a><a id="Core-Components-1"></a><a class="docs-heading-anchor-permalink" href="#Core-Components" title="Permalink"></a></h4><ul><li><strong>Strategy Module</strong>: Contains your trading logic and <a href="../../config/">configuration</a></li><li><strong>Dispatch System</strong>: Uses <code>call!</code> methods to handle different strategy events</li><li><strong>Asset Universe</strong>: Collection of tradeable assets managed by the strategy</li><li><strong>Execution Modes</strong>: Sim (<a href="../execution-modes/#simulation">backtesting</a>-mode)), Paper (simulated live), and Live trading</li><li><strong>Margin Support</strong>: Full support for isolated and <a href="#Margin-Modes">cross margin</a> trading</li></ul><h4 id="Strategy-Type-Hierarchy"><a class="docs-heading-anchor" href="#Strategy-Type-Hierarchy">Strategy Type Hierarchy</a><a id="Strategy-Type-Hierarchy-1"></a><a class="docs-heading-anchor-permalink" href="#Strategy-Type-Hierarchy" title="Permalink"></a></h4><p>Where:</p><ul><li><code>Mode</code>: Execution mode (Sim, Paper, Live)</li><li><code>Name</code>: Strategy module name as Symbol</li><li><code>Exchange</code>: Exchange identifier</li><li><code>Margin</code>: Margin mode (NoMargin, Isolated, Cross)</li><li><code>QuoteCurrency</code>: Base currency symbol</li></ul><h3 id="Dispatch-System"><a class="docs-heading-anchor" href="#Dispatch-System">Dispatch System</a><a id="Dispatch-System-1"></a><a class="docs-heading-anchor-permalink" href="#Dispatch-System" title="Permalink"></a></h3><p>The strategy interface uses Julia&#39;s <a href="#Dispatch-System">multiple dispatch</a> through the <code>call!</code> function. This pattern allows you to define different behaviors for different contexts while maintaining clean, extensible code.</p><h4 id="Key-Dispatch-Patterns"><a class="docs-heading-anchor" href="#Key-Dispatch-Patterns">Key Dispatch Patterns</a><a id="Key-Dispatch-Patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Dispatch-Patterns" title="Permalink"></a></h4><p><strong>Type vs Instance Dispatch</strong>:</p><ul><li>Methods dispatching on <code>Type{&lt;:Strategy}</code> are called before strategy construction</li><li>Methods dispatching on strategy instances are called during runtime</li></ul><p><strong>Action-Based Dispatch</strong>:</p><h4 id="Exchange-Specific-Dispatch"><a class="docs-heading-anchor" href="#Exchange-Specific-Dispatch">Exchange-Specific Dispatch</a><a id="Exchange-Specific-Dispatch-1"></a><a class="docs-heading-anchor-permalink" href="#Exchange-Specific-Dispatch" title="Permalink"></a></h4><p>You can customize behavior for specific <a href="../../exchanges/">exchanges</a>:</p><h3 id="Margin-Trading-Concepts"><a class="docs-heading-anchor" href="#Margin-Trading-Concepts">Margin Trading Concepts</a><a id="Margin-Trading-Concepts-1"></a><a class="docs-heading-anchor-permalink" href="#Margin-Trading-Concepts" title="Permalink"></a></h3><p>Planar provides comprehensive <a href="#Margin-Trading-Concepts">margin trading</a> support with proper position management and risk controls.</p><h4 id="Margin-Modes"><a class="docs-heading-anchor" href="#Margin-Modes">Margin Modes</a><a id="Margin-Modes-1"></a><a class="docs-heading-anchor-permalink" href="#Margin-Modes" title="Permalink"></a></h4><p><strong>NoMargin</strong>: Spot trading only</p><p><strong>Isolated Margin</strong>: Each position has independent margin</p><p><strong>Cross Margin</strong>: Shared margin across all positions</p><h4 id="Position-Management"><a class="docs-heading-anchor" href="#Position-Management">Position Management</a><a id="Position-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Position-Management" title="Permalink"></a></h4><h4 id="Risk-Management-Patterns"><a class="docs-heading-anchor" href="#Risk-Management-Patterns">Risk Management Patterns</a><a id="Risk-Management-Patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Risk-Management-Patterns" title="Permalink"></a></h4><h2 id="Creating-Strategies"><a class="docs-heading-anchor" href="#Creating-Strategies">Creating Strategies</a><a id="Creating-Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Strategies" title="Permalink"></a></h2><h3 id="Interactive-Strategy-Generator"><a class="docs-heading-anchor" href="#Interactive-Strategy-Generator">Interactive Strategy Generator</a><a id="Interactive-Strategy-Generator-1"></a><a class="docs-heading-anchor-permalink" href="#Interactive-Strategy-Generator" title="Permalink"></a></h3><p>The simplest way to create a strategy is using the interactive generator, which prompts for all required <a href="../../config/">configuration</a> options:</p><h3 id="Non-Interactive-Strategy-Creation"><a class="docs-heading-anchor" href="#Non-Interactive-Strategy-Creation">Non-Interactive Strategy Creation</a><a id="Non-Interactive-Strategy-Creation-1"></a><a class="docs-heading-anchor-permalink" href="#Non-Interactive-Strategy-Creation" title="Permalink"></a></h3><p>You can also create strategies programmatically without user interaction:</p><h3 id="Manual-Strategy-Setup"><a class="docs-heading-anchor" href="#Manual-Strategy-Setup">Manual Strategy Setup</a><a id="Manual-Strategy-Setup-1"></a><a class="docs-heading-anchor-permalink" href="#Manual-Strategy-Setup" title="Permalink"></a></h3><p>If you want to create a strategy manually you can either:</p><ul><li>Copy the <code>user/strategies/Template.jl</code> to a new file in the same directory and customize it</li><li>Generate a new project in <code>user/strategies</code> and customize <code>Template.jl</code> to be your project entry file</li></ul><p>For more advanced setups you can also use <code>Planar</code> as a library, and construct the strategy object directly from your own module:</p><h3 id="Project-Based-Strategies"><a class="docs-heading-anchor" href="#Project-Based-Strategies">Project-Based Strategies</a><a id="Project-Based-Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Project-Based-Strategies" title="Permalink"></a></h3><p>For complex strategies, use the project structure:</p><pre><code class="nohighlight hljs">user/strategies/MyStrategy/
├── Project.toml          # Package definition and dependencies
├── Manifest.toml         # Locked dependency versions
├── src/
│   ├── MyStrategy.jl     # Main strategy module
│   ├── indicators.jl     # Custom indicators
│   ├── utils.jl         # Utility functions
│   └── risk.jl          # Risk management
└── test/
    └── test_strategy.jl  # Strategy tests</code></pre><h2 id="Strategy-Interface"><a class="docs-heading-anchor" href="#Strategy-Interface">Strategy Interface</a><a id="Strategy-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Strategy-Interface" title="Permalink"></a></h2><h3 id="Loading-a-Strategy"><a class="docs-heading-anchor" href="#Loading-a-Strategy">Loading a Strategy</a><a id="Loading-a-Strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-a-Strategy" title="Permalink"></a></h3><p>Strategies are instantiated by loading a Julia module at runtime:</p><p>The strategy name corresponds to the module name, which is imported from:</p><ul><li><code>user/strategies/Example.jl</code> (single file strategy)</li><li><code>user/strategies/Example/src/Example.jl</code> (project-based strategy)</li></ul><h3 id="Strategy-Type-Structure"><a class="docs-heading-anchor" href="#Strategy-Type-Structure">Strategy Type Structure</a><a id="Strategy-Type-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#Strategy-Type-Structure" title="Permalink"></a></h3><h3 id="Basic-Strategy-Module"><a class="docs-heading-anchor" href="#Basic-Strategy-Module">Basic Strategy Module</a><a id="Basic-Strategy-Module-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Strategy-Module" title="Permalink"></a></h3><h3 id="Function-Signature-Convention"><a class="docs-heading-anchor" href="#Function-Signature-Convention">Function Signature Convention</a><a id="Function-Signature-Convention-1"></a><a class="docs-heading-anchor-permalink" href="#Function-Signature-Convention" title="Permalink"></a></h3><p>The <code>call!</code> function follows a consistent signature pattern:</p><ul><li><strong>Subject</strong>: Either strategy type (<code>Type{&lt;:Strategy}</code>) or instance (<code>Strategy</code>)</li><li><strong>Arguments</strong>: Function-specific parameters</li><li><strong>Verb</strong>: Action type that determines the dispatch (e.g., <code>::LoadStrategy</code>)</li><li><strong>Keyword Arguments</strong>: Optional parameters</li></ul><h3 id="Strategy-Lifecycle"><a class="docs-heading-anchor" href="#Strategy-Lifecycle">Strategy Lifecycle</a><a id="Strategy-Lifecycle-1"></a><a class="docs-heading-anchor-permalink" href="#Strategy-Lifecycle" title="Permalink"></a></h3><p>Understanding the strategy lifecycle is crucial for proper implementation:</p><ol><li><strong>Module Loading</strong>: Strategy module is imported</li><li><strong>Type Construction</strong>: Strategy type is created with parameters</li><li><strong>Instance Creation</strong>: <code>call!(Type{&lt;:SC}, config, ::LoadStrategy)</code> is called</li><li><strong>Reset/Initialization</strong>: <code>call!(s::SC, ::ResetStrategy)</code> is called</li><li><strong>Execution Loop</strong>: <code>call!(s::SC, timestamp, context)</code> is called repeatedly</li><li><strong>Cleanup</strong>: <code>call!(s::SC, ::StopStrategy)</code> is called when stopping</li></ol><h3 id="Essential-Strategy-Methods"><a class="docs-heading-anchor" href="#Essential-Strategy-Methods">Essential Strategy Methods</a><a id="Essential-Strategy-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Essential-Strategy-Methods" title="Permalink"></a></h3><h4 id="Required-Methods"><a class="docs-heading-anchor" href="#Required-Methods">Required Methods</a><a id="Required-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Required-Methods" title="Permalink"></a></h4><h4 id="Optional-Methods"><a class="docs-heading-anchor" href="#Optional-Methods">Optional Methods</a><a id="Optional-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Optional-Methods" title="Permalink"></a></h4><h3 id="Advanced-Dispatch-Patterns"><a class="docs-heading-anchor" href="#Advanced-Dispatch-Patterns">Advanced Dispatch Patterns</a><a id="Advanced-Dispatch-Patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Dispatch-Patterns" title="Permalink"></a></h3><h4 id="Conditional-Dispatch-by-Mode"><a class="docs-heading-anchor" href="#Conditional-Dispatch-by-Mode">Conditional Dispatch by Mode</a><a id="Conditional-Dispatch-by-Mode-1"></a><a class="docs-heading-anchor-permalink" href="#Conditional-Dispatch-by-Mode" title="Permalink"></a></h4><h4 id="Parameter-Based-Dispatch"><a class="docs-heading-anchor" href="#Parameter-Based-Dispatch">Parameter-Based Dispatch</a><a id="Parameter-Based-Dispatch-1"></a><a class="docs-heading-anchor-permalink" href="#Parameter-Based-Dispatch" title="Permalink"></a></h4><h2 id="Advanced-Examples"><a class="docs-heading-anchor" href="#Advanced-Examples">Advanced Examples</a><a id="Advanced-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Examples" title="Permalink"></a></h2><h3 id="Multi-Timeframe-Strategy"><a class="docs-heading-anchor" href="#Multi-Timeframe-Strategy">Multi-Timeframe Strategy</a><a id="Multi-Timeframe-Strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-Timeframe-Strategy" title="Permalink"></a></h3><h3 id="Portfolio-Rebalancing-Strategy"><a class="docs-heading-anchor" href="#Portfolio-Rebalancing-Strategy">Portfolio Rebalancing Strategy</a><a id="Portfolio-Rebalancing-Strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Portfolio-Rebalancing-Strategy" title="Permalink"></a></h3><h3 id="Advanced-Optimization-Strategy"><a class="docs-heading-anchor" href="#Advanced-Optimization-Strategy">Advanced Optimization Strategy</a><a id="Advanced-Optimization-Strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Optimization-Strategy" title="Permalink"></a></h3><h3 id="Simple-Moving-Average-Strategy"><a class="docs-heading-anchor" href="#Simple-Moving-Average-Strategy">Simple Moving Average Strategy</a><a id="Simple-Moving-Average-Strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Simple-Moving-Average-Strategy" title="Permalink"></a></h3><h3 id="Margin-Trading-Strategy"><a class="docs-heading-anchor" href="#Margin-Trading-Strategy">Margin Trading Strategy</a><a id="Margin-Trading-Strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Margin-Trading-Strategy" title="Permalink"></a></h3><h2 id="Best-Practices"><a class="docs-heading-anchor" href="#Best-Practices">Best Practices</a><a id="Best-Practices-1"></a><a class="docs-heading-anchor-permalink" href="#Best-Practices" title="Permalink"></a></h2><h3 id="Code-Organization"><a class="docs-heading-anchor" href="#Code-Organization">Code Organization</a><a id="Code-Organization-1"></a><a class="docs-heading-anchor-permalink" href="#Code-Organization" title="Permalink"></a></h3><ol><li><p><strong>Module Constants</strong>: Define strategy metadata at the top</p></li><li><p><strong>Environment Macros</strong>: Use appropriate environment macros within your strategy module</p></li><li><p><strong>Parameter Management</strong>: Use strategy attributes for parameters</p></li></ol><h3 id="Error-Handling"><a class="docs-heading-anchor" href="#Error-Handling">Error Handling</a><a id="Error-Handling-1"></a><a class="docs-heading-anchor-permalink" href="#Error-Handling" title="Permalink"></a></h3><h3 id="Performance-Optimization"><a class="docs-heading-anchor" href="#Performance-Optimization">Performance Optimization</a><a id="Performance-Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-Optimization" title="Permalink"></a></h3><ol><li><strong>Minimize Allocations</strong>: Reuse data structures when possible</li><li><strong>Batch Operations</strong>: Group similar operations together</li><li><strong>Conditional Logic</strong>: Use early returns to avoid unnecessary computations</li></ol><h3 id="Testing-and-Validation"><a class="docs-heading-anchor" href="#Testing-and-Validation">Testing and Validation</a><a id="Testing-and-Validation-1"></a><a class="docs-heading-anchor-permalink" href="#Testing-and-Validation" title="Permalink"></a></h3><h3 id="Strategy-Configuration"><a class="docs-heading-anchor" href="#Strategy-Configuration">Strategy Configuration</a><a id="Strategy-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Strategy-Configuration" title="Permalink"></a></h3><p>Strategies can be configured through <code>user/[planar.toml](../config.md#configuration-file)</code>:</p><pre><code class="language-toml hljs">[strategies.MyStrategy]
exchange = &quot;binance&quot;
margin = &quot;NoMargin&quot;
timeframe = &quot;1h&quot;
initial_cash = 10000.0
sandbox = true

[strategies.MyStrategy.attrs]
custom_param1 = 1.5
custom_param2 = &quot;value&quot;</code></pre><h2 id="Quick-Troubleshooting"><a class="docs-heading-anchor" href="#Quick-Troubleshooting">Quick Troubleshooting</a><a id="Quick-Troubleshooting-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Troubleshooting" title="Permalink"></a></h2><p>For comprehensive strategy troubleshooting with detailed solutions, see <a href="../../troubleshooting/strategy-problems/">Strategy Problems</a>.</p><h3 id="Common-Issues-Quick-Reference"><a class="docs-heading-anchor" href="#Common-Issues-Quick-Reference">Common Issues Quick Reference</a><a id="Common-Issues-Quick-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Common-Issues-Quick-Reference" title="Permalink"></a></h3><p><strong>❌ Strategy loading fails</strong> → <a href="../../troubleshooting/strategy-problems/#strategy-loading-and-compilation-issues">Strategy Problems: Loading Issues</a></p><ul><li>Module not found errors</li><li>Compilation failures</li><li>Missing dependencies</li></ul><p><strong>❌ Runtime execution errors</strong> → <a href="../../troubleshooting/strategy-problems/#strategy-execution-issues">Strategy Problems: Execution Issues</a></p><ul><li>Method dispatch errors</li><li>Data access problems</li><li>Signal generation failures</li></ul><p><strong>❌ No trades executing</strong> → <a href="../../troubleshooting/strategy-problems/#order-execution-issues">Strategy Problems: Order Execution</a></p><ul><li>Insufficient balance</li><li>Order validation failures</li><li>Position management errors</li></ul><p><strong>❌ Slow performance</strong> → <a href="../../troubleshooting/performance-issues/#strategy-execution-performance">Performance Issues</a></p><ul><li>Backtesting optimization</li><li>Memory usage problems</li><li>Algorithm efficiency</li></ul><p><strong>❌ Data problems</strong> → <a href="../../troubleshooting/exchange-issues/">Exchange Issues</a> or <a href="../../troubleshooting/performance-issues/#data-related-performance-issues">Performance Issues: Data</a></p><ul><li>Missing market data</li><li>Exchange connectivity</li><li>Database performance</li></ul><h3 id="Development-Tips"><a class="docs-heading-anchor" href="#Development-Tips">Development Tips</a><a id="Development-Tips-1"></a><a class="docs-heading-anchor-permalink" href="#Development-Tips" title="Permalink"></a></h3><p><strong>Enable Debug Logging</strong>:</p><p><strong>Test Components Individually</strong>:</p><p><strong>Use Simulation Mode for Debugging</strong>:</p><p>For detailed troubleshooting steps and platform-specific solutions, visit <a href="../../troubleshooting/strategy-problems/">Strategy Problems</a>.es</p><ul><li>Check that <code>call!(s::SC, ::OptScore)</code> returns appropriate metrics</li><li>Verify that parameter overrides are applied correctly in <code>call!(s::SC, params, ::OptRun)</code></li></ul><h3 id="Debugging-Strategies"><a class="docs-heading-anchor" href="#Debugging-Strategies">Debugging Strategies</a><a id="Debugging-Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging-Strategies" title="Permalink"></a></h3><h4 id="Enable-Debug-Logging"><a class="docs-heading-anchor" href="#Enable-Debug-Logging">Enable Debug Logging</a><a id="Enable-Debug-Logging-1"></a><a class="docs-heading-anchor-permalink" href="#Enable-Debug-Logging" title="Permalink"></a></h4><h4 id="Strategy-State-Inspection"><a class="docs-heading-anchor" href="#Strategy-State-Inspection">Strategy State Inspection</a><a id="Strategy-State-Inspection-1"></a><a class="docs-heading-anchor-permalink" href="#Strategy-State-Inspection" title="Permalink"></a></h4><h4 id="Performance-Profiling"><a class="docs-heading-anchor" href="#Performance-Profiling">Performance Profiling</a><a id="Performance-Profiling-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-Profiling" title="Permalink"></a></h4><h3 id="Removing-Strategies"><a class="docs-heading-anchor" href="#Removing-Strategies">Removing Strategies</a><a id="Removing-Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Removing-Strategies" title="Permalink"></a></h3><p>The function <code>remove_strategy</code> allows you to discard a strategy by its name:</p><h2 id="Advanced-Topics"><a class="docs-heading-anchor" href="#Advanced-Topics">Advanced Topics</a><a id="Advanced-Topics-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Topics" title="Permalink"></a></h2><h3 id="Dynamic-Universe-Management"><a class="docs-heading-anchor" href="#Dynamic-Universe-Management">Dynamic Universe Management</a><a id="Dynamic-Universe-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Dynamic-Universe-Management" title="Permalink"></a></h3><p>The universe (<code>s.universe</code>) is backed by a <code>DataFrame</code> (<code>s.universe.data</code>). It is possible to add and remove assets from the universe during runtime, although this feature is not extensively tested.</p><pre><code class="language-julia hljs"># Activate Planar project
import Pkg
Pkg.activate(&quot;Planar&quot;)

try
    using Planar
    @environment!

    # Add new asset to universe (experimental)
    function add_asset_to_universe_example(s, symbol::String)
        # This requires careful handling of data synchronization
        @info &quot;Adding asset to universe: $symbol&quot;
        # Real implementation would be:
        # new_asset = Asset(symbol, exchange(s))
        # Careful handling of data synchronization required
        println(&quot;Asset $symbol would be added to universe&quot;)
    end

    # Remove asset from universe (experimental)
    function remove_asset_from_universe_example(s, symbol::String)
        # Close any open positions first
        @info &quot;Removing asset from universe: $symbol&quot;
        # Real implementation would be:
        # ai = s[symbol]
        # if !isnothing(ai) &amp;&amp; freecash(ai) != 0
        #     close_position(s, ai)
        # end
        println(&quot;Asset $symbol would be removed from universe&quot;)
    end
    
    println(&quot;Universe management functions defined (experimental)&quot;)
    
catch e
    @warn &quot;Planar not available: $e&quot;
end</code></pre><h3 id="Custom-Indicators"><a class="docs-heading-anchor" href="#Custom-Indicators">Custom Indicators</a><a id="Custom-Indicators-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Indicators" title="Permalink"></a></h3><h3 id="Integration-with-External-Libraries"><a class="docs-heading-anchor" href="#Integration-with-External-Libraries">Integration with External Libraries</a><a id="Integration-with-External-Libraries-1"></a><a class="docs-heading-anchor-permalink" href="#Integration-with-External-Libraries" title="Permalink"></a></h3><p>This comprehensive guide provides everything you need to develop sophisticated trading strategies in Planar. Start with the basic examples and gradually work your way up to more advanced patterns as you become comfortable with the dispatch system and strategy architecture.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Saturday 1 November 2025 08:03">Saturday 1 November 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
